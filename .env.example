# CORS whitelist (comma-separated). Use * to allow all (not recommended in production).
ALLOWED_ORIGINS=https://your-main-domain.com,https://another-allowed.com

# Meta Graph API
# Instagram Business Account ID linked to your Facebook Page
IG_BUSINESS_ACCOUNT_ID=

# App ID for refetching ACCESS_TOKEN
META_APP_ID=
META_APP_SECRET=

# Long-lived Instagram Graph API token with pages_read_engagement, instagram_basic, instagram_manage_insights, public_content_access (if applicable)
# Delete when refetching is up and running
IG_ACCESS_TOKEN=
# Graph API version
GRAPH_API_VERSION=v24.0

# Cache TTL in seconds
CACHE_TTL_SECONDS=120

# Per-IP rate limiting (applies to public Instagram endpoints)
# Max requests per window per IP
RATE_LIMIT_MAX_REQUESTS=60
# Window size in seconds
RATE_LIMIT_WINDOW_SECONDS=60
# Optional: storage directory for counters (default: var/ratelimit)
# RATE_LIMIT_STORAGE=<path>
# Trust X-Forwarded-For for client IP (set to 1 only behind a trusted proxy/load balancer)
RATE_LIMIT_TRUST_PROXY=0

DIAGNOSTICS_ENABLED=0

# Auto-refresh tokens
AUTO_REFRESH_ENABLED=1

# Whitelisted IPs - clear when development is done
WHITELISTED_IPS=

# HTTPS verification (local dev helpers)
HTTP_VERIFY_SSL=1

# Or provide a full path to a CA bundle (cacert.pem) for Windows/local dev
# Example: C:\\path\\to\\cacert.pem
CA_BUNDLE_PATH=

# Optional persistent token storage path. If set, refreshed tokens are written here and used by the service.
# IG_TOKEN_STORAGE=/path/var/secret/ig_access_token.txt

# Restrict admin endpoints (/auth/token/*). Either set an ADMIN_TOKEN or rely on WHITELISTED_IPS
# /auth/token/*?admin_token=...
ADMIN_TOKEN=

# Auto-refresh threshold (days); if token will expire within this window, a refresh is attempted
REFRESH_THRESHOLD_DAYS=45
CACHE_TTL_SECONDS=120
